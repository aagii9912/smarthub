# SmartHub Setup Guide üöÄ

## 1Ô∏è‚É£ Supabase Database Setup (15 –º–∏–Ω)

### –ê–ª—Ö–∞–º 1: Supabase –¥—ç—ç—Ä –Ω—ç–≤—Ç—Ä—ç—Ö
1. [https://supabase.com](https://supabase.com) —Ä—É—É –æ—Ä–Ω–æ
2. ”®”©—Ä–∏–π–Ω project –¥—ç—ç—Ä –æ—Ä–Ω–æ

### –ê–ª—Ö–∞–º 2: SQL Editor –¥—ç—ç—Ä Schema “Ø“Ø—Å–≥—ç—Ö

**‚ö†Ô∏è –•—ç—Ä—ç–≤ "relation already exists" –∞–ª–¥–∞–∞ –≥–∞—Ä–≤–∞–ª:**

#### –°–æ–Ω–≥–æ–ª—Ç –ê: –¶—ç–≤—ç—Ä —ç—Ö–ª—ç–ª (RECOMMENDED) ‚úÖ
–ë“Ø—Ö ”©–≥”©–≥–¥–ª–∏–π–≥ —É—Å—Ç–≥–∞–∞–¥ –¥–∞—Ö–∏–Ω “Ø“Ø—Å–≥—ç—Ö:

1. –ó“Ø“Ø–Ω —Ç–∞–ª—ã–Ω —Ü—ç—Å–Ω—ç—ç—Å **SQL Editor** —Å–æ–Ω–≥–æ–Ω–æ
2. **New Query** —Ç–æ–≤—á–∏–π–≥ –¥–∞—Ä–Ω–∞
3. `supabase/migrations/000_clean_reset.sql` —Ñ–∞–π–ª—ã–Ω –∞–≥—É—É–ª–≥—ã–≥ —Ö—É—É–ª–Ω–∞
4. **Run** –¥–∞—Ä–Ω–∞ (–±“Ø—Ö table —É—Å—Ç–∞–Ω–∞)
5. –î–∞—Ö–∏–Ω **New Query** “Ø“Ø—Å–≥—ç–Ω—ç
6. `supabase/migrations/001_initial_schema.sql` —Ñ–∞–π–ª—ã–Ω –∞–≥—É—É–ª–≥—ã–≥ —Ö—É—É–ª–Ω–∞
7. **Run** –¥–∞—Ä–Ω–∞

#### –°–æ–Ω–≥–æ–ª—Ç –ë: Safe Migration (–û–¥–æ–æ –±–∞–π–≥–∞–∞ ”©–≥”©–≥–¥”©–ª —Ö–∞–¥–≥–∞–ª–Ω–∞) üõ°Ô∏è
IF NOT EXISTS –∞—à–∏–≥–ª–∞—Ö:

1. –ó“Ø“Ø–Ω —Ç–∞–ª—ã–Ω —Ü—ç—Å–Ω—ç—ç—Å **SQL Editor** —Å–æ–Ω–≥–æ–Ω–æ
2. **New Query** —Ç–æ–≤—á–∏–π–≥ –¥–∞—Ä–Ω–∞
3. `supabase/migrations/001_initial_schema_safe.sql` —Ñ–∞–π–ª—ã–Ω –∞–≥—É—É–ª–≥—ã–≥ —Ö—É—É–ª–Ω–∞
4. **Run** –¥–∞—Ä–Ω–∞ (–¥–∞—Ö–∏–Ω –∞–∂–∏–ª–ª—É—É–ª–∂ –±–æ–ª–Ω–æ, –∞–ª–¥–∞–∞ –≥–∞—Ä–∞—Ö–≥“Ø–π)

‚úÖ –ê–º–∂–∏–ª—Ç—Ç–∞–π –±–æ–ª: "SmartHub database schema created successfully!" –≥—ç—Å—ç–Ω –º–µ—Å—Å–µ–∂ —Ö–∞—Ä–∞–≥–¥–∞–Ω–∞

### –ê–ª—Ö–∞–º 3: Environment Variables —Ç–æ—Ö–∏—Ä—É—É–ª–∞—Ö

`.env.local` —Ñ–∞–π–ª–¥ –¥–∞—Ä–∞–∞—Ö –º—ç–¥—ç—ç–ª–ª–∏–π–≥ –Ω—ç–º–Ω—ç:

```bash
# Supabase
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key

# Facebook (–æ–¥–æ–æ–≥–æ–æ—Ä —à–∞–∞—Ä–¥–ª–∞–≥–∞–≥“Ø–π)
FACEBOOK_PAGE_ACCESS_TOKEN=your_token
FACEBOOK_VERIFY_TOKEN=your_verify_token
FACEBOOK_APP_SECRET=your_app_secret

# Gemini AI
GEMINI_API_KEY=your_gemini_api_key
```

**Supabase keys —Ö–∞–∞–Ω–∞–∞—Å –∞–≤–∞—Ö:**
1. Supabase Dashboard ‚Üí Settings ‚Üí API
2. `URL` –±–æ–ª–æ–Ω `anon public` key-–≥ —Ö—É—É–ª–Ω–∞
3. `service_role` key-–≥ —Ö—É—É–ª–Ω–∞ (‚ö†Ô∏è –≠–Ω—ç –Ω—å secret key!)

---

## 2Ô∏è‚É£ Demo ”©–≥”©–≥–¥”©–ª —à–∞–ª–≥–∞—Ö (2 –º–∏–Ω)

SQL Schema –∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä –¥–∞—Ä–∞–∞—Ö demo ”©–≥”©–≥–¥–ª–∏–π–≥ “Ø“Ø—Å–≥—ç—Å—ç–Ω:

### Demo –î—ç–ª–≥“Ø“Ø—Ä
- **–ù—ç—Ä:** Demo –î—ç–ª–≥“Ø“Ø—Ä
- **ID:** `00000000-0000-0000-0000-000000000001`

### Demo –ë“Ø—Ç—ç—ç–≥–¥—ç—Ö“Ø“Ø–Ω (5 —à–∏—Ä—Ö—ç–≥)
- –•–∞—Ä –∫—É—Ä—Ç–∫–∞ - ‚ÇÆ185,000
- –¶–∞–≥–∞–∞–Ω —Ü–∞–º—Ü - ‚ÇÆ45,000
- –°–ø–æ—Ä—Ç –≥—É—Ç–∞–ª - ‚ÇÆ120,000
- –ì–æ—ë–ª—ã–Ω –¥–∞–∞—à–∏–Ω–∑ - ‚ÇÆ250,000
- –î–∂–∏–Ω—Å ”©–º–¥ - ‚ÇÆ95,000

### Demo –•–∞—Ä–∏–ª—Ü–∞–≥—á–∏–¥ (4 —Ö“Ø–Ω)
- –ë–æ–ª–¥ –ë–∞—Ç (VIP) - 12 –∑–∞—Ö–∏–∞–ª–≥–∞, ‚ÇÆ2.45M
- –°–∞—Ä–∞–∞ –î–æ—Ä–∂ - 5 –∑–∞—Ö–∏–∞–ª–≥–∞, ‚ÇÆ580K
- –î–æ—Ä–∂ –ë–∞—Ç—Å“Ø—Ö (VIP) - 8 –∑–∞—Ö–∏–∞–ª–≥–∞, ‚ÇÆ1.2M
- –û—é—É–Ω–∞–∞ –ú”©–Ω—Ö - 3 –∑–∞—Ö–∏–∞–ª–≥–∞, ‚ÇÆ450K

---

## 3Ô∏è‚É£ Dashboard –∞—à–∏–≥–ª–∞—Ö

### –•—É—É–¥–∞—Å–Ω—É—É–¥:
1. **Dashboard** (`/dashboard`) - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫, —Å“Ø“Ø–ª–∏–π–Ω –∑–∞—Ö–∏–∞–ª–≥—É—É–¥, —á–∞—Ç
2. **–ë“Ø—Ç—ç—ç–≥–¥—ç—Ö“Ø“Ø–Ω** (`/dashboard/products`) - CRUD “Ø–π–ª–¥–ª“Ø“Ø–¥
3. **–•–∞—Ä–∏–ª—Ü–∞–≥—á–∏–¥** (`/dashboard/customers`) - –•–∞—Ä–∏–ª—Ü–∞–≥—á–¥—ã–Ω –∂–∞–≥—Å–∞–∞–ª—Ç
4. **–ó–∞—Ö–∏–∞–ª–≥—É—É–¥** (`/dashboard/orders`) - –ó–∞—Ö–∏–∞–ª–≥–∞ —É–¥–∏—Ä–¥–∞—Ö

### –§—É–Ω–∫—Ü—É—É–¥:
‚úÖ –ë–æ–¥–∏—Ç ”©–≥”©–≥–¥”©–ª Supabase-—ç—ç—Å —Ç–∞—Ç–∞—Ö
‚úÖ –ë“Ø—Ç—ç—ç–≥–¥—ç—Ö“Ø“Ø–Ω –Ω—ç–º—ç—Ö/–∑–∞—Å–∞—Ö/—É—Å—Ç–≥–∞—Ö
‚úÖ –ó–∞—Ö–∏–∞–ª–≥—ã–Ω —Ç”©–ª”©–≤ ”©”©—Ä—á–ª”©—Ö (pending ‚Üí confirmed ‚Üí shipped ‚Üí delivered)
‚úÖ VIP —Ö–∞—Ä–∏–ª—Ü–∞–≥—á –∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä —à–∞–ª–≥–∞—Ö (‚ÇÆ1M+ —Ö—É–¥–∞–ª–¥–∞–Ω –∞–≤–∞–ª—Ç)
‚úÖ Real-time —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫

---

## 4Ô∏è‚É£ Local –¥—ç—ç—Ä –∞–∂–∏–ª–ª—É—É–ª–∞—Ö

```bash
cd smarthub
npm install
npm run dev
```

–î–∞—Ä–∞–∞ –Ω—å: [http://localhost:3000/dashboard](http://localhost:3000/dashboard)

---

## 5Ô∏è‚É£ Vercel Deployment

–•—ç—Ä—ç–≤ Vercel –¥—ç—ç—Ä deploy —Ö–∏–π—Å—ç–Ω –±–æ–ª:

1. Vercel Dashboard ‚Üí Settings ‚Üí Environment Variables
2. `.env.local`-–∏–π–Ω –±“Ø—Ö variables-–∏–π–≥ –Ω—ç–º–Ω—ç
3. Redeploy —Ö–∏–π–Ω—ç

---

## üìä Database Schema

### Tables:
- `shops` - –î—ç–ª–≥“Ø“Ø—Ä“Ø“Ø–¥
- `products` - –ë“Ø—Ç—ç—ç–≥–¥—ç—Ö“Ø“Ø–Ω“Ø“Ø–¥
- `customers` - –•–∞—Ä–∏–ª—Ü–∞–≥—á–∏–¥
- `orders` - –ó–∞—Ö–∏–∞–ª–≥—É—É–¥
- `order_items` - –ó–∞—Ö–∏–∞–ª–≥—ã–Ω –±–∞—Ä–∞–∞
- `chat_history` - –ß–∞—Ç —Ç“Ø“Ø—Ö

### Triggers:
- Auto-update `updated_at` on orders
- Auto-update customer stats (total_orders, total_spent, is_vip)

### VIP Logic:
–•–∞—Ä–∏–ª—Ü–∞–≥—á –∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä VIP –±–æ–ª–Ω–æ —Ö—ç—Ä—ç–≤:
- `total_spent >= ‚ÇÆ1,000,000`

---

## üîß Troubleshooting

### "Failed to fetch" –∞–ª–¥–∞–∞
- `.env.local` —Ñ–∞–π–ª –∑”©–≤ –±–∞–π–≥–∞–∞ —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞–Ω–∞
- Supabase project –∏–¥—ç–≤—Ö—Ç—ç–π —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞–Ω–∞
- Dev server restart —Ö–∏–π–Ω—ç (`npm run dev`)

### Demo ”©–≥”©–≥–¥”©–ª —Ö–∞—Ä–∞–≥–¥–∞—Ö–≥“Ø–π –±–∞–π–Ω–∞
- SQL schema –±“Ø—Ä—ç–Ω –∞–∂–∏–ª–ª–∞—Å–∞–Ω —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞–Ω–∞
- Supabase Table Editor –¥—ç—ç—Ä ”©–≥”©–≥–¥”©–ª –±–∞–π–≥–∞–∞ —ç—Å—ç—Ö–∏–π–≥ —Ö–∞—Ä–Ω–∞

### API –∞–ª–¥–∞–∞
- Browser Console (`F12`) –¥—ç—ç—Ä –∞–ª–¥–∞–∞–Ω—ã –º–µ—Å—Å–µ–∂–∏–π–≥ —Ö–∞—Ä–Ω–∞
- Network tab –¥—ç—ç—Ä API request-“Ø“Ø–¥–∏–π–≥ —à–∞–ª–≥–∞–Ω–∞

---

## üéâ –ë—ç–ª—ç–Ω!

–û–¥–æ–æ —Ç–∞ SmartHub dashboard-–∞–∞ –∞—à–∏–≥–ª–∞–∂ —ç—Ö–ª—ç—Ö –±–æ–ª–æ–º–∂—Ç–æ–π!

–î–∞—Ä–∞–∞–≥–∏–π–Ω –∞–ª—Ö–º—É—É–¥:
- [ ] Facebook Messenger —Ö–æ–ª–±–æ—Ö
- [ ] AI —á–∞—Ç –±–æ—Ç—å –∏–¥—ç–≤—Ö–∂“Ø“Ø–ª—ç—Ö
- [ ] Webhook —Ç–æ—Ö–∏—Ä—É—É–ª–∞—Ö
- [ ] Production deployment

